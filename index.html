<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="css/css.css">
</head>
<body>

<div class="content">
	<div class="header">
		<img src="./images/icon_user.png">
		<div class="headerInfo">
			<div class="info">
				<div class="form-input">
					<input class="user" type="text" name="name" placeholder="请输入您的姓名" autocomplete="off" />
				</div>

				<div class="form-input">
					<select class="gender">
						<option value="">请选择性别</option>
						<option value="1">男</option>
						<option value="2">女</option>
					</select>
				</div>

				<div class="form-input">
					<input class="certificate" type="text" name="cardNo" placeholder="请输入您的证件号码" autocomplete="off"/>
				</div>
				<div class="form-input">
					<input class="date" type="date" name="birthday" placeholder="请选择您的出生日期" />
				</div>
				<div class="form-input">
					<div class="city" id="bindCityPicker">请选择您的所在城市</div>
				</div>
				<div class="form-input">
					<input class="phone" type="tel" name="mobile" placeholder="请输入您的手机号码" autocomplete="off"/>
				</div>

				<div class="form-input" style="padding-top: 20px">
					<button class="button" type="button">提 交</button>
				</div>
			</div>
		</div>
	</div>
	<script defer src="./js/pickerView.js"></script>
	<script defer src="./js/cityData.js"></script>
	<script type="text/javascript">
		const domLoadFunc = function() {
			var pickerView  = new PickerView({
				selector: 'bindCityPicker',
				title: '选择城市',
				initData: function() {
					return [{
						values:areaList.province_list,
					}, {
						values:areaList.city_list,
					}, {
						values:areaList.county_list
					}];
				},
				// cols:[
				// 	{
				// 		values: ['广东']
				// 	},
				// 	{
				// 		curVal: '佛山',  //curVal是默认当前项，可选
				// 		values: ['深圳','佛山']
				// 	},
				// 	{
				// 		curVal: '三水',
				// 		values: ['顺德','三水','高明','禅城','南海']
				// 	}
				// ],
				onSelected: function(colIndex, selectedIndex, selectedValue) {
					// 在这里更新列以达到多级联动目的
					// if(colIndex === 1) {
					// 	switch(selectedIndex) {
					// 		case 0:
					// 			// 深圳
					// 			pickerView.updateCol(colIndex+1,{
					// 				curVal: '宝安',
					// 				values: ['南山','宝安','福田','罗湖','龙岗','盐田']
					// 			})
					// 			break;
					// 		case 1:
					// 			// 佛山
					// 			pickerView.updateCol(colIndex+1,{
					// 				values: ['顺德','三水','高明','禅城','南海']
					// 			})
					// 			break;
					// 	}
					// }
					console.log(colIndex,selectedIndex,selectedValue);
				},
				onConfirm: function(values) {
					console.log(values);
					document.getElementById('bindCityPicker').innerText = values.map(item =>{
						return item.label
					}).join('-');
				},
				onCancel: function() {
					console.log('cancel');
				}
			});
		}
		document.addEventListener('DOMContentLoaded', domLoadFunc)

        /*
         * @param selector 绑定触发选择器的元素id 选填
         * @param title 选择器标题 选填
         * @param cols 选择器内容 必填
         * @param onSelected 某列中某项被选中的回调函数
         *  colIndex,selectedIndex,selectedValue分别代表选中列、被选中项下标、被选中项的值
         * @param onConfirm 点击确定的回调
         *  values代表顺序返回的选中值数组
         * @param onCancel 点击取消的回调
         */
		
	</script>
</div>

</body>
</html>